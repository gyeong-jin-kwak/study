[toc]

# 0. Intro

이 문서는 구글에서 검색 노출결과 내 순서를 변경하기 위해 서칭한 자료입니다. sitemap.xml 에 중점을 두고 작성하였습니다.

검색 결과에는 동일한 웹사이트 메인 url을 갖는 사이트들이 하위에 표시되는 노출결과 방식이 있습니다.

이러한 노출 결과 방식을 구글에서는 **'사이트 링크'** , 네이버에서는 **'서브링크'** 라는 용어로 지칭합니다.

이는 트래픽에 영향받아 검색할 때마다 다른 결과가 나타날 수 있습니다.



# 1. 사이트 링크 생성에 도움이 되는 방법

모든 사이트링크의 생성은 구글 알고리즘에 의하여 자동으로 생성될 뿐, 구글 웹마스터로 의도적으로 생성할 수 없습니다. 이는 무분별한 사이트링크가 검색엔진의 질서를 어지럽히고 악용될 소지가 있기 때문입니다. 하지만 코드 작성을 통해 사이트링크가 생성될 수 있도록 유도할 수 있습니다.



**i. 사이트맵(sitemap.xml) 등록**

**ii. nav 태그를 사용하여 링크노출**

**iii. header, footer에 메뉴링크를 li 태그로 사용하여 표시**

**iv. 페이지내에 내부링크로 반복하여 출력**

**v. 사이트 구조를 논리적이고 직관적인 체계로 구성**



# 2. sitemap.xml

## 2.1 역할

sitemap.xml은 웹사이트 내 모든 페이지의 목록을 나열한 파일로 책의 목차와 같은 역할을 합니다.

일반적인 크롤링 과정에서 쉽게 발견되지 않는 웹페이지도 문제없이 크롤링되고 색인될 수 있게 해줍니다.

## 2.2 위치

sitemap.xml 파일은 꼭 루트 디렉토리에 위치하지 않아도 됩니다. 그렇지만 많은 웹사이트들은 sitemap.xml 파일도 robots.txt와 마찬가지로 루트 폴더에 업로드하기 때문에, 다른 웹사이트의 sitemap.xml을 참고하고 싶다면 웹사이트 URL 뒤에 /sitemap.xml 을 입력하여 찾아볼 수 있습니다.

## 2.3 작성규칙

Sitemap 프로토콜 형식은 XML 태그로 구성됩니다. Sitemap의 모든 데이터 값은 [엔티티 이스케이프 처리](https://www.sitemaps.org/protocol.html#escaping) 되어야합니다. 파일 자체는 UTF-8로 인코딩되어야합니다.

### 2.3.1 **작성 필수 조건 :  urlset > url > loc** 

- `<urlset>` 태그로 시작하고` </urlset>` 태그로 끝냅니다.

- 프로토콜 표준인 네임스페이스를 `<urlset>` 태그 안에 명시합니다.

- 상위 XML태그로 각 URL에 대한 `<url>` 항목를  포함합니다.

- 각 `<url>` 상위 태그에 대한 하위 항목 `<loc>`을 포함합니다.

  
  
  Ex. 샘플 XML Sitemap
  
  ```xml
  <?xml version="1.0" encoding="UTF-8"?>
  
  <urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  
     <url>
  
        <loc>http://www.example.com/</loc>
  
        <lastmod>2005-01-01</lastmod>
  
        <changefreq>monthly</changefreq>
  
        <priority>0.8</priority>
  
     </url>
  
  </urlset> 
  ```
  
  

### 2.3.2 xml 태그 정의

[필수] 

- `<urlset>` : 파일을 캡슐화하고 현재 프로토콜 표준을 참조합니다.
- `<url>`: 각 URL 항목의 상위 태그입니다. 나머지 태그는 이 태그의 하위에 위치합니다.
- `<loc>`: 페이지의 URL입니다. 이 URL은 프로토콜 (예 : http)로 시작하고 웹 서버에서 요구하는 경우 후행 슬래시로 끝나야합니다. 이 값은 2,048 자 미만이어야합니다.

[선택]

- `<lastmod>`: 파일을 마지막으로 수정 한 날짜입니다. 이 날짜는 [W3C Datetime](http://www.w3.org/TR/NOTE-datetime) 형식 이어야 합니다. 이 형식을 사용하면 원하는 경우 시간 부분을 생략하고 YYYY-MM-DD를 사용할 수 있습니다.

- `<changefreq>`:  검색 엔진에 각 페이지가 업데이트되는 빈도를 대략적으로 알려줍니다. 업데이트 란 페이지의 HTML 코드 또는 텍스트에 대한 실제 변경을 의미하며 업데이트 된 Flash 콘텐츠 나 수정 된 이미지가 아닙니다. 이 값은 검색 엔진에 일반 정보를 제공하며 페이지 크롤링 빈도와 정확히 연관되지 않을 수 있습니다. 이 태그로 감싸 표시할 유효한 값은 다음과 같습니다.

  **Changefrq 지침 값 및 예**

  - always: 액세스 할 때마다 변경되는 문서를 설명하는 데 사용되어야합니다.  주식 시장 데이터, 소셜 북마크 카테고리
- hourly: 주요 뉴스 사이트, 날씨 정보, 포럼
  - daily: 블로그 항목 색인, 광고, 작은 게시판
  - weekly: 제품 정보 페이지, 웹 사이트 디렉토리
  - monthly : FAQ, 지침, 가끔 업데이트되는 기사
  - yearly : 연락처, "회사 소개", 로그인, 등록 페이지
  - never:  아카이브된 URL을 설명할 때 사용해야합니다. 오래된 뉴스, 보도 자료 등
  
  이 값은 힌트이므로 절대적인 값이 아니라 참고값입니다. 따라서 검색엔진 크롤러의 크롤링 빈도와 반드시 일치한 건 아닙니다. 크롤러는 "never"로 표시된 페이지를 주기적으로 크롤링하여 해당 페이지에 대한 예기치 않은 변경을 처리 할 수도 있습니다.

- `<priority>`: Priority XML 사이트 맵 태그는 그다지 중요하지는 않지만 유용합니다. 0에서 1 사이의 숫자로 설정됩니다. 번호가 지정되지 않은 경우 페이지의 우선 순위는 일반적으로 0.5로 설정되지만 사이트 및 플러그인에 따라 다를 수 있습니다. 우선 순위가 높은 페이지는 더 자주 색인이 생성되거나 검색 결과에서 동일한 사이트의 다른 페이지 위에 표시 될 수 있습니다. 

  다음은 다양한 유형의 페이지에 대한 몇 가지 예와 중요도에 따라 우선 순위 사이트 맵 XML 태그 값이 설정되는 방법입니다.

  - 0.8-1.0 : 홈페이지, 하위 도메인, 제품 정보, 주요 기능, 주요 카테고리 페이지.
  
  - 0.4-0.7 : 기사 및 블로그 글, 부 카테고리 페이지, 하위 카테고리 페이지, FAQ
  
  - 0.0-0.3 : 오래된 뉴스, 관련성이없는 정보
  

**참고 : 대규모 사이트를 위한 Changefreq 및 Priority XML**

    일반적으로 소규모 웹사이트보다 대규모 웹 사이트에서 이러한 설정이 더 중요합니다. 소규모 웹 사이트 (예를 들어 100 페이지 미만)의 경우 구글은 상대적인 콘텐츠 우선 순위와 변경 사항을 자체적으로 파악하는 데 효과적입니다. 작은 사이트이기 때문에 콘텐츠를 더 자주 크롤링하기 쉽습니다. 또한 소규모 사이트는 (일반적으로) 계층 구조가 더 단순하여 특정 페이지의 상대적 우선 순위를 더 쉽게 해석 할 수 있습니다.
      
    그러나 규모가 크거나 매우 큰 사이트 (수천 또는 수십만 페이지)의 경우 Changeqfreq 및 Priority XML 태그가 훨씬 더 중요해집니다. 페이지가 너무 많아 검색 엔진이 콘텐츠를 이해하고 크롤링 할 수 있도록 노력하고있고 이 두 태그는 이를 수행하는 훌륭한 방법입니다.

**검색 엔진이 이러한 설정을 준수합니까? **

Priority 및 Changefreq 사이트 맵 사양을 얼마나 엄격하게 따르는지는 검색 엔진에 달려 있습니다. 이러한 XML 태그는 지침이라기보다 선호로 간주됩니다. 이것은 검색 엔진이 Priority 및 Changefreq를 중요하게 생각하지 않는다는 의미가 아니라 사이트 맵 지침을 자신의 관심사 (예 : 사이트 주제가 변경되었는지, 포르노가되지 않았는지 확인)보다 우선하지 않는다는 의미입니다.

그러나 검색 엔진 "스파이더(=크롤러)"가 페이지를 색인화하는시기 또는 빈도가 왜 중요할까요? "스파이더"가 웹 페이지를 방문하면 페이지의 내용, 제목, META 태그, 링크 및 기타 특성에 대한 정보를 기록합니다. 이렇게하면 검색 결과에 최신 콘텐츠가 반영되고 최근 개선 사항 (예 : 새로운 META 태그 또는 수리 된 링크)이 고려됩니다.

그러나 "스파이더"는 거의 업데이트되지 않거나 업데이트되지 않은 페이지를 정기적으로 스캔 할 필요가 없습니다. 스파이더 인덱싱은 대역폭을 소비하며 (웹 사이트 운영 비용을 증가시킬 수 있음) 저용량 서버에서 실행되는 경우 사이트에 대한 액세스 속도가 잠시 느려질 수 있습니다. 따라서 개별 페이지가 업데이트되는 빈도를 정확하게 반영하도록 Changefreq 사이트 맵 태그를 설정하는 것이 중요합니다.



# 3. robots.txt (로봇 배제 표준 파일)

## 3.1 역할

robots.txt 는 웹사이트에 대한 검색엔진 로봇들의 접근을 조절해주고 제어해주는 역할, 그리고 로봇들에게 웹사이트의 사이트맵이 어디 있는지 알려주는 역할을 합니다.

만약 웹사이트 내 특정 페이지가 검색엔진에 노출되지 않기를 바란다면 robots.txt파일을 설정하여 이를 제어할 수 있습니다.

여기서 말하는 사이트 맵은 수집 로봇을 위한 XML 사이트 맵을 말하며, 웹사이트의 메뉴 전체를 보여주는 사이트 맵을 의미하는 것은 아닙니다.

## 3.2 위치

robots.txt는 html이 아닌 일반 텍스트파일로 작성하며 사이트의 루트 디렉토리에 위치해야 합니다. 다른 곳에 robots.txt를 올리면 검색 로봇이 찾을 수 없습니다.

 robots.txt은 누구에게나 공개된 파일로 여러분이 알고 있는 웹사이트 URL 뒤에 /robots.txt 를 입력하면 다른 웹사이트는 어떻게 robots.txt 파일을 적용시키고 있는지 확인할 수 있습니다.



## 3.3 검색로봇의 이름

- 구글 (Googlebot)
- 네이버 (Yeti)
- 빙 (Bingbot)
- 야후 (Slurp) 

 

# 참고사이트

- https://www.twinword.co.kr/blog/basic-technical-seo/
- https://www.sitemaps.org/protocol.html
- https://www.v9digital.com/insights/sitemap-xml-why-changefreq-priority-are-important/
- https://support.google.com/webmasters/answer/47334?hl=ko
- https://webisfree.com/2016-06-22/%EA%B5%AC%EA%B8%80-%EC%9B%B9%EB%A7%88%EC%8A%A4%ED%84%B0-%EC%82%AC%EC%9D%B4%ED%8A%B8%EB%A7%81%ED%81%AC-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0
- https://bloggingwizard.com/google-sitelinks/

